<div
  class="generate-with-ai-loading"
  *ngIf="(this.isLoading || this.isError); else showForm"
>
  <div class="heading">
    <p class="title">Generate designs with AI</p>
    <p class="secondary-text">
      Help the AI with more details about what you are trying to design!
    </p>
  </div>
  <div class="body">
    <mat-spinner
      [diameter]="70"
      [strokeWidth]="2"
      class="spinner"
      *ngIf="this.isLoading"
    ></mat-spinner>
    <mat-card *ngIf="this.isError">
      <mat-card-header>
        <mat-card-title>Error</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>{{errMessage}}</p>
        <p>
          <button mat-flat-button class="geneate-btn" (click)="resetForm()">
            Reset & Start over
          </button>
        </p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
<ng-template #showForm
  ><div class="generate-with-ai">
    <div class="heading">
      <p class="title">Generate designs with AI</p>
      <p class="secondary-text">
        Help the AI with more details about what you are trying to design!
      </p>
    </div>
    <div>
      <form autocomplete="off" [formGroup]="generateWithAiFormGroup">
        <div class="form-group">
          <div class="label-row body-text">
            <label for="designingFor">Designing for</label>
          </div>
          <div class="input-row">
            <input
              type="text"
              id="designingFor"
              name="designingFor"
              placeholder="Healthcare, Industry, Consumer, Retail etc.,"
              formControlName="Designing_for"
            />
          </div>
        </div>

        <div class="form-group">
          <div class="label-row body-text">
            <label for="targetUsers">Target Users</label>
          </div>
          <div class="input-row">
            <input
              type="text"
              id="targetUsers"
              name="targetUsers"
              placeholder="What kind of personas you would like to test your design for?"
              formControlName="Target_users"
            />
          </div>
        </div>

        <div class="form-group">
          <div class="label-row body-text">
            <label for="testObjectives"
              >What you would like to include in your design?</label
            >
          </div>
          <div class="input-row">
            <textarea
              id="likeToInclude"
              name="likeToInclude"
              rows="10"
              placeholder="Ex: A website for a travel company with all the services and a hero sections with upcoming tours. A search bar that allows the user to search all the available tours, etc."
              formControlName="Description"
            ></textarea>
          </div>
        </div>
      </form>
    </div>
    <mat-divider class="divider"></mat-divider>
    <div class="actions">
      <button class="gray-button" (click)="redirectHome()">Cancel</button>
      <button
        class="left-15"
        [ngClass]="generateWithAiFormGroup.invalid ? 'gray-button' : 'submit'"
        (click)="submitForm()"
        [disabled]="generateWithAiFormGroup.invalid"
      >
        Generate designs
      </button>
    </div>
  </div></ng-template
>
